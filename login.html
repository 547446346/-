<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录账户</title>
    <link rel="stylesheet" type="text/css" href="css/login.css">
</head>

<body>
    <!-- head.html -->
    <div id="header-placeholder"></div>
    <script>
        fetch('head.html')
            .then(response => response.text())
            .then(data => {
                const placeholder = document.getElementById('header-placeholder');
                placeholder.innerHTML = data;

                // 手动执行插入的脚本
                const scripts = placeholder.querySelectorAll('script');
                scripts.forEach(script => {
                    const newScript = document.createElement('script');
                    if (script.src) {
                        // 如果是外部脚本，重新加载
                        newScript.src = script.src;
                    } else {
                        // 如果是内联脚本，复制内容
                        newScript.textContent = script.textContent;
                    }
                    document.body.appendChild(newScript);
                });
            })
            .catch(error => console.error('Error loading head.html:', error));
    </script>

    <div class="login-wrapper">
        <img src="../images/sign_up.jpg" alt="登录图片" class="login-image">
        <div class="login-container">
            <h2>登录账户</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="username">账号：</label>
                    <input type="text" id="username" name="username" placeholder="请输入账号" required>
                </div>
                <div class="form-group">
                    <label for="password">密码：</label>
                    <input type="password" id="password" name="password" placeholder="请输入密码" required>
                    <p id="login-message" class="login-message"></p>
                </div>
                <button type="submit" class="login-button">登录</button>
                <p class="links">
                    <a href="signup.html">账号注册</a>
                    <a href="forgot_password.html">忘记密码</a>
                </p>

            </form>
        </div>
    </div>

    <script>
        // 模拟账户数据
        const users = {
            "user1": "password1",
            "user2": "password2"
        };

        // 表单提交事件
        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const message = document.getElementById('login-message');

            if (users[username] && users[username] === password) {
                message.textContent = "登录成功";
                message.style.color = "da1021";
                // 在此处添加登录成功后的逻辑
            } else {
                message.textContent = "账号名与密码不匹配，请重新输入";
                message.style.color = "#da1021";
            }
        });
    </script>

    <!-- foot.html -->
    <div id="footer-placeholder"></div>
    <script>
        fetch('foot.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            })
            .catch(error => console.error('Error loading foot.html:', error));
    </script>
</body>

</html>